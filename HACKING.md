# Compilation

Before you start coding, you will need to install some dependencies:

```bash
# Ubuntu, Debian and derivatives:
$ sudo apt-get install build-essential git tar \
  nodejs npm gjs gettext appstream appstream-util libglib2.0-dev-bin \
  libgtk-3-dev libwnck-3-dev

# Red Hat, Fedora, CentOS and derivatives:
$ sudo yum groupinstall "Development Tools"
$ sudo yum install git tar \
  nodejs npm gjs gettext appstream \
  gtk3-devel libwnck-devel
```

Now clone the source code and compile run it:

```bash
$ git clone https://github.com/JoseExposito/touche.git
$ cd touche
$ npm start
```

# Installation

The `build` npm script executes all the required steps:

```bash
$ npm run build
```

It uses meson under the hood, so it is equivalent to:

```bash
$ meson build --prefix=/usr
$ ninja -C build
$ sudo ninja -C build install
```

# Flatpak

It is possible to use Flatpak to distribute and install the application.

First, generate a Flatpak archive with all the npm dependencies:

```bash
$ npm run flatpak:archive
```

Copy the SHA-256 checksum generated by the command.

Now upload the archive somewhere and update `com.github.joseexposito.touche.yml` to use the
generated file:

```yaml
  - name: touche
    [...]
    sources:
      - type: archive
        url: # Copy the URL here or use file://
        sha256: # Paste the checksum here
```

And install it using:

```bash
$ npm run flatpak
```
